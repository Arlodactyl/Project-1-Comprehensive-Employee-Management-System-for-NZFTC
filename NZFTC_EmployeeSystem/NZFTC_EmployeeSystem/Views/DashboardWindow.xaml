<!--
    DashboardWindow.xaml
    This is the main window that appears after successful login
    It contains a navigation menu and content area
    Demonstrates POLYMORPHISM - Admin users see extra menu options
-->
<Window x:Class="NZFTC_EmployeeSystem.Views.DashboardWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
        Title="NZFTC Employee Management System"
        Width="1200" Height="700"
        WindowStartupLocation="CenterScreen"
        Background="{DynamicResource MaterialDesignPaper}">

	<!-- Main grid divides window into top bar and content area -->
	<Grid>
		<Grid.RowDefinitions>
			<!-- Row 0: Top bar with welcome message and logout -->
			<RowDefinition Height="Auto"/>
			<!-- Row 1: Main content area with menu and pages -->
			<RowDefinition Height="*"/>
		</Grid.RowDefinitions>

		<!-- TOP BAR - Shows app name, welcome message, and logout button -->
		<materialDesign:ColorZone Grid.Row="0" Mode="PrimaryDark" Padding="16">
			<Grid>
				<Grid.ColumnDefinitions>
					<!-- Left side: App name and welcome message -->
					<ColumnDefinition Width="*"/>
					<!-- Right side: Logout button -->
					<ColumnDefinition Width="Auto"/>
				</Grid.ColumnDefinitions>

				<!-- Welcome message section -->
				<StackPanel Grid.Column="0" Orientation="Horizontal">
					<!-- Application title -->
					<TextBlock Text="NZFTC Employee System"
                               FontSize="20"
                               FontWeight="Bold"
                               Foreground="White"
                               VerticalAlignment="Center"/>

					<!-- Welcome text with user name -->
					<!-- This element is accessed in code-behind to set the username -->
					<TextBlock x:Name="WelcomeText"
                               Text="Welcome, User"
                               FontSize="16"
                               Foreground="White"
                               Margin="20,0,0,0"
                               VerticalAlignment="Center"/>
				</StackPanel>

				<!-- Logout button -->
				<Button Grid.Column="1"
                        Content="LOGOUT"
                        Click="Logout_Click"
                        Style="{StaticResource MaterialDesignFlatButton}"
                        Foreground="White"/>
			</Grid>
		</materialDesign:ColorZone>

		<!-- MAIN CONTENT AREA - Split into left menu and right content -->
		<Grid Grid.Row="1">
			<Grid.ColumnDefinitions>
				<!-- Column 0: Left navigation menu (250 pixels wide) -->
				<ColumnDefinition Width="250"/>
				<!-- Column 1: Right content area (takes remaining space) -->
				<ColumnDefinition Width="*"/>
			</Grid.ColumnDefinitions>

			<!-- LEFT NAVIGATION MENU -->
			<Border Grid.Column="0"
                    Background="{DynamicResource MaterialDesignDarkBackground}"
                    BorderBrush="{DynamicResource MaterialDesignDivider}"
                    BorderThickness="0,0,1,0">
				<StackPanel Margin="0,20,0,0">

					<!-- Dashboard button - Home page -->
					<Button Content="Dashboard"
                            Click="Dashboard_Click"
                            Style="{StaticResource MaterialDesignFlatButton}"
                            Foreground="White"
                            HorizontalAlignment="Stretch"
                            Height="50"
                            FontSize="16"/>

					<!-- My Profile button - View/edit own profile -->
					<Button Content="My Profile"
                            Click="MyProfile_Click"
                            Style="{StaticResource MaterialDesignFlatButton}"
                            Foreground="White"
                            HorizontalAlignment="Stretch"
                            Height="50"
                            FontSize="16"/>

					<!-- Leave Management button - Request and view leave -->
					<Button Content="Leave Management"
                            Click="LeaveManagement_Click"
                            Style="{StaticResource MaterialDesignFlatButton}"
                            Foreground="White"
                            HorizontalAlignment="Stretch"
                            Height="50"
                            FontSize="16"/>

					<!-- Payroll button - View payslips -->
					<Button Content="Payroll"
                            Click="Payroll_Click"
                            Style="{StaticResource MaterialDesignFlatButton}"
                            Foreground="White"
                            HorizontalAlignment="Stretch"
                            Height="50"
                            FontSize="16"/>

					<!-- Holidays button - View company holidays -->
					<Button Content="Holidays"
                            Click="Holidays_Click"
                            Style="{StaticResource MaterialDesignFlatButton}"
                            Foreground="White"
                            HorizontalAlignment="Stretch"
                            Height="50"
                            FontSize="16"/>

					<!-- Grievances button - Submit grievances -->
					<Button Content="Grievances"
                            Click="Grievances_Click"
                            Style="{StaticResource MaterialDesignFlatButton}"
                            Foreground="White"
                            HorizontalAlignment="Stretch"
                            Height="50"
                            FontSize="16"/>

					<!-- ADMIN ONLY SECTION - Only visible for admin users -->
					<StackPanel x:Name="AdminMenuPanel"
                                Visibility="Collapsed"
                                Margin="0,20,0,0">

						<TextBlock Text="ADMIN"
                                   Foreground="Gray"
                                   FontSize="12"
                                   FontWeight="Bold"
                                   Margin="16,0,0,10"/>

						<Button Content="Manage Employees"
                                Click="ManageEmployees_Click"
                                Style="{StaticResource MaterialDesignFlatButton}"
                                Foreground="White"
                                HorizontalAlignment="Stretch"
                                Height="50"
                                FontSize="16"/>
					</StackPanel>
				</StackPanel>
			</Border>

			<!-- RIGHT CONTENT AREA - Where pages are displayed -->
			<Frame x:Name="ContentFrame"
                   Grid.Column="1"
                   NavigationUIVisibility="Hidden"/>
		</Grid>
	</Grid>
</Window>